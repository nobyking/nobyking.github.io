<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>
</head>
<style type="text/css">
*{
	margin: 0;
	padding: 0;
	list-style: none;
}
ul{
	position:relative;
	margin-top:100px;
	overflow: hidden;
	height:70px;
}
li{
	position: relative;
	top: 0;
	left: 0;
	float: left;
}
img{
	display: block;
	border:none;
	vertical-align: top;
}

</style>
<body>
	<ul id="oUl">
		<li>
			<img src="img/0.jpg"/>
			<img src="img/0.jpg"/>
		</li>
		<li>
			<img src="img/0.jpg"/>
			<img src="img/0.jpg"/>
		</li>
		
		<li>
			<img src="img/c.jpg"/>
		</li>
		
		<li>
			<img src="img/0.jpg"/>
			<img src="img/0.jpg"/>
		</li>
		<li>
			<img src="img/0.jpg"/>
			<img src="img/0.jpg"/>
		</li>
		<li>
			<img src="img/c.jpg"/>
		</li>
		<li>
			<img src="img/0.jpg"/>
			<img src="img/0.jpg"/>
		</li>
		<li>
			<img src="img/0.jpg"/>
			<img src="img/0.jpg"/>
		</li>
	</ul>
</body>
<script src="move4.js"></script>
<script type="text/javascript">
/*
	分析：
		设置一个当前时间，oldTime；
		设置一个最新时间，newTime;
		然后逐一比较，如果时间有变化，就切换下一张图片，切换后，让第一张图片变为切换后的图片，然后恢复两图原先的位置；
 */
//	var oUl = document.getElementById('oUl');
//	var oLi = oUl.getElementsByTagName('li');
//	var prev;
//	function tab(n){		
//		return n<10?'0'+n:''+n;
//	}
//	function time(){
//		var now = new Date();
//		var h = now.getHours();
//		var m = now.getMinutes();
//		var s = now.getSeconds();
//		var str = tab(h)+':'+tab(m)+':'+tab(s);
//		for(var i=0;i<oLi.length;i++){	
//			var timeImg = oLi[i].querySelector('img');		
//			if(i==2||i==5){
//				continue;
//			};
//			console.log(timeImg)
//			timeImg.src='img/'+str[i]+'.jpg';		
//			console.log(str[i])
//			//str[i]=prev;
//		}	
//	}
//	time();
//	setInterval(time,1000)

	var lis = document.getElementsByTagName('li');
	var oldTime = getTime();
	for(var i=0;i<lis.length;i++){
		fn(i);
	}
	function fn(n){
		//console.log(oldTime)
		console.log(getTime())
		var img = lis[n].getElementsByTagName('img')[0];		
		if(n == 2 || n == 5){
			img.src = 'img/c.jpg';
		}else{
			img.src = 'img/'+oldTime.charAt(n)+'.jpg';
		}
	}
	setInterval(function(){
		var newTime = getTime();
		for(var i=0;i<lis.length;i++){
			if(newTime[i]!=oldTime[i]){
				tab(i,newTime[i]);
			}
		}
		//console.log()
		oldTime=newTime;
	},1000)
	
	function getTime(){
		var time = new Date();
		var h = time.getHours();
		var m = time.getMinutes();
		var s = time.getSeconds();
		var str = two(h)+':'+two(m)+':'+two(s);
		return str;
	}
//	console.log(getTime())
	function two(n){		
		return n<10?'0'+n:''+n;
	} 
	function tab(n,charAt){
		var imgs = lis[n].getElementsByTagName('img');
		imgs[1].src='img/'+charAt+'.jpg';
		move(lis[n],{top:-70},900,'linear',function(){
			imgs[0].src = 'img/'+charAt+'.jpg'; 
			lis[n].style.top = '';
		}) 
	}
</script>
</html>
