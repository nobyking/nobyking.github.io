<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
		a{
			text-decoration: none;
			font-size: 50px;
		}
		.red{
			color:red;
		}
		.green{
			color:green;
		}
		.yellow{
			color:yellow;
		}
	</style>
</head>
<body>
	<p><a href="javascript:;">★</a><a href="javascript:;">★</a><a href="javascript:;">★</a><a href="javascript:;">★</a><a href="javascript:;">★</a></p>
</body>
</html>
<script type="text/javascript">
	//eval(function(p,a,c,k,e,d){e=function(c){return(c<a?"":e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)d[e(c)]=k[c]||e(c);k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1;};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p;}('4 a=i.k(\'a\');4 b=-1;6(4 c=0;c<a.h;c++){a[c].5=c;a[c].j=3(){d(7.5)};a[c].m=3(){d(b)};a[c].l=3(){b=7.5}};3 d(e){4 f,g;6(f=0;f<a.h;f++){a[f].8.9=\'\'};q(e<2){g=\'n\'}o{g=\'p\'};6(f=0;f<=e;f++){a[f].8.9=g}}',27,27,'|||function|var|index|for|this|style|color||||||||length|document|onmouseover|getElementsByTagName|onclick|onmouseout|green|else|yellow|if'.split('|'),0,{}))
/*
 	分析：
 		1.鼠标移入
 			判断：移入第几个，前面的变色，前2绿，3-4黄，5红
 		2.鼠标点击
 			颜色没变化，需要知道点的是第几个，记录下，给移出用，
 		3.鼠标移出
 			根据点击记录的，变色，没有点击记录，就回复初始
 * 
 * */
	var as = document.getElementsByTagName('a');
	var n = -1;//一开始没有点击，默认设为-1，小于0的，点击记录的是0-4，都是大于等于0，区分开点击和未点击状态
	for(var i=0;i<as.length;i++){
		//索引值：知道点的是第几个
		as[i].index = i;
		as[i].onmouseover = function(){
			//移入第几个，前面的变色
			for(var i=0;i<as.length;i++){
				as[i].className = '';
			}
			//this.index传给函数，前面的变色
			color(this.index);
		}
		as[i].onclick = function(){
			//记录点的是第几个
			n = this.index;
		}
		as[i].onmouseout = function(){
			for(var i=0;i<as.length;i++){
				as[i].className = '';
			}
			//如果有点击记录，才根据记录的变色
			//错误检测：如果判断条件有问题，在判断条件上面，看下判断条件是否正确
			console.log(n>=0)
			if(n>=0){
				//错误检测：检测是否进了这个判断
				console.log(1)
				//把点击记录的n，传给函数
				color(n)
			}
		}
	}
	function color(m){
		//错误检测：用变量前，先看一下变量是否能拿到，是否正确
		console.log(m)
		for(var i=0;i<m+1;i++){
			if(m < 2){
				as[i].className = 'green';
			}else if(m >= 2 && m < 4){
				as[i].className = 'yellow';
			}else{
				as[i].className = 'red';
			}	
		}
	}
</script>